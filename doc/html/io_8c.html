<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ART1 Simulator: src/io.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ART1 Simulator
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An Adaptive Resonance Theory Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('io_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">io.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4e19be6f887c6b2c836348fce9ca5b0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a4e19be6f887c6b2c836348fce9ca5b0f">write_clusts_pat_sets</a> (FILE *out, Vector *clusts)</td></tr>
<tr class="separator:a4e19be6f887c6b2c836348fce9ca5b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaadde76430f928670e1054153da6677"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#afaadde76430f928670e1054153da6677">write_clusts_classes</a> (Vector **clustsClass, FILE *out, Vector *clusts, Vector *patsClass)</td></tr>
<tr class="separator:afaadde76430f928670e1054153da6677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965830f0ac8cd6fb565d8e7fd040c950"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a965830f0ac8cd6fb565d8e7fd040c950">write_ratio</a> (FILE *out, Vector *pats, Vector *clusts, Vector *patsClass, Vector *clustsClass)</td></tr>
<tr class="separator:a965830f0ac8cd6fb565d8e7fd040c950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac238d5ff2b2ee59bdd90bed4188bb86a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#ac238d5ff2b2ee59bdd90bed4188bb86a">write_clusts_prototypes</a> (FILE *out, <a class="el" href="struct_in_param.html">InParam</a> par, Vector *clusts, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nClusts)</td></tr>
<tr class="separator:ac238d5ff2b2ee59bdd90bed4188bb86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328704f75c999c31e485b3542a26207d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a328704f75c999c31e485b3542a26207d">write_cluster_files</a> (<a class="el" href="struct_in_param.html">InParam</a> par, Vector *pats, Vector *clusts, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nClusts)</td></tr>
<tr class="separator:a328704f75c999c31e485b3542a26207d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d8ceea6208425220d76bc1d02b7498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a72d8ceea6208425220d76bc1d02b7498">write_train_results</a> (Vector **clustsClasses, <a class="el" href="struct_in_param.html">InParam</a> par, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> emptyPats, float fluc, Vector *pats, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nPats, Vector *clusts, Vector *patsClass)</td></tr>
<tr class="separator:a72d8ceea6208425220d76bc1d02b7498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7db0c1a52daa6b67e37b56e9b48bdc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#aa7db0c1a52daa6b67e37b56e9b48bdc3">write_test_results</a> (<a class="el" href="struct_in_param.html">InParam</a> par, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> emptyPats, Vector *pats, <a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nPats, Vector *clusts, Vector *testClasses, Vector *testResClasses)</td></tr>
<tr class="separator:aa7db0c1a52daa6b67e37b56e9b48bdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Mathieu Fourcroy </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 2015 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.0.1</dd></dl>
<p>This file contains some function which are used to print informations on the terminal or to write the results files.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Implement save and load for results files.</dd></dl>
<h2>PATTERNS TYPE </h2>
<p>The patterns are effectivly interned in line_to_pat(). As it is for an ART1 network they are binary patterns. Thus, they are interned as vectors of 1 and 0. The patterns are read in line_to_pat() and their "bits" are pushed in the vectors in the form of integers codes but the vectors type is char to save some memory. i.e.: the vectors contains char codes x0 and x1 only (not x30 and x31), that means that they need to be treated and printed as integers.</p>
<h2>INPUT FILES </h2>
<p>The input file must be in csv format (commat separateed values). The name of the classes (i.e.: the attribute to guess) must be on the first column. The files can contains any number of patterns of any length but only one pattern per line and every patterns MUST have the same length. Comment are allowed on the files but they must begin by "#" and "#" must be the first character of the line like: </p>
<div class="fragment"><div class="line"><span class="preprocessor">    # This is a comment and next are the patterns</span></div>
<div class="line"><span class="preprocessor"></span>    poisonous,0,1,0,0,0,0,1,0,0,1,1,...</div>
<div class="line">   <span class="keyword">@end</span>ocde</div>
<div class="line">   Empty lines are allowed, they will be ignored by the parser.</div>
<div class="line">  /</div>
<div class="line"></div>
<div class="line"><span class="comment">/*=====| INCLUDES |===========================================================*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;limits.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;dirent.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="io_8h.html">io.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dbg_8h.html">dbg.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/*=====| FUNCTIONS |==========================================================*/</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#a80f8a74945aebf5dcfdeab96825d5f1c">set_network_values</a>(<a class="code" href="struct_in_param.html">InParam</a> *par, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">    <span class="keywordflow">if</span>((argc &lt; 11)){</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Invalid number of parameters!\nExiting...\n&quot;</span>);</div>
<div class="line">        exit(2);</div>
<div class="line">    }</div>
<div class="line">    strcpy(par-&gt;<a class="code" href="struct_in_param.html#adcd81017e33884084e72e477e5462f07">trainFile</a>, argv[1]);</div>
<div class="line">    strcpy(par-&gt;<a class="code" href="struct_in_param.html#ab064012679f686113e26114dd2a273f3">testFile</a>, argv[2]);</div>
<div class="line">    strcpy(par-&gt;<a class="code" href="struct_in_param.html#a74f24df2ba8ea34ebc927809d25a14ef">prefix</a>, argv[3]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#a84926deb45bc620f21afab303b9114c3">skip</a> = atoi(argv[4]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#aac324529f6880073feb747dc3c6f7add">trainNoise</a> = atol(argv[5]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#a38957505183ab4eba98c9ea699fa286e">testNoise</a> = atol(argv[6]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a> = atoi(argv[7]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#a785bde0eb3bff8f83bd6e019449f4a7d">vigilance</a> = atof(argv[8]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#a342fcb2317908701d8574b9c0e7c8bd1">minFluc</a> = atof(argv[9]);</div>
<div class="line">    par-&gt;<a class="code" href="struct_in_param.html#aee3a18897dc672ba38e5a3a48b391bf5">maxPasses</a> = atol(argv[10]);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#ae358f42d763b99428cdf3e715bbc796f">print_network_values</a>(<a class="code" href="struct_in_param.html">InParam</a> par){</div>
<div class="line">    puts(<span class="stringliteral">&quot;   _   ___ _____ _   ___ ___ __  __ _   _ _      _ _____ ___  ___ &quot;</span>\</div>
<div class="line">         <span class="stringliteral">&quot;\n  /_\\ | _ \\_   _/ | / __|_ _|  \\/  | | | | |    /_\\_   _/ _ &quot;</span>\</div>
<div class="line">         <span class="stringliteral">&quot;\\| _ \\\n / _ \\|   / | | | | \\__ \\| || |\\/| | |_| | |__ / _ &quot;</span>\</div>
<div class="line">         <span class="stringliteral">&quot;\\| || (_) |   /\n/_/ \\_\\_|_\\ |_| |_| |___/___|_|  &quot;</span>\</div>
<div class="line">         <span class="stringliteral">&quot;|_|\\___/|____/_/ \\_\\_| \\___/|_|_\\\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;-------------------------------------------------------\n\n&quot;</span>);</div>
<div class="line">    puts(<span class="stringliteral">&quot;Runing ART1 algorithm using following parameters:&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tTraining file: %s\n&quot;</span>, par.<a class="code" href="struct_in_param.html#adcd81017e33884084e72e477e5462f07">trainFile</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tTesting file: %s\n&quot;</span>, par.<a class="code" href="struct_in_param.html#adcd81017e33884084e72e477e5462f07">trainFile</a>);</div>
<div class="line">    <span class="keywordflow">if</span>(par.<a class="code" href="struct_in_param.html#a84926deb45bc620f21afab303b9114c3">skip</a>){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tSkipping first attribute of every patterns\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tOutput file prefix: %s\n&quot;</span>, par.<a class="code" href="struct_in_param.html#a74f24df2ba8ea34ebc927809d25a14ef">prefix</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tFluctuation percentage: %g%%\n&quot;</span>, par.<a class="code" href="struct_in_param.html#a342fcb2317908701d8574b9c0e7c8bd1">minFluc</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tMax number of iterations: %lu\n&quot;</span>, par.<a class="code" href="struct_in_param.html#aee3a18897dc672ba38e5a3a48b391bf5">maxPasses</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tBeta parameter: %.0f\n&quot;</span>, par.<a class="code" href="struct_in_param.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\tVigilance parmeter: %g\n&quot;</span>, par.<a class="code" href="struct_in_param.html#a785bde0eb3bff8f83bd6e019449f4a7d">vigilance</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="io_8h.html#a3405b5370d2c756dc5135a5bf8fbdc34">openFile</a>(FILE **file, <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">char</span> <span class="keyword">const</span> *mode){</div>
<div class="line">    <span class="comment">//~ printf(&quot;Opening file \&quot;%s\&quot;... &quot;, name);</span></div>
<div class="line">     *file = fopen(name, mode);</div>
<div class="line">    <span class="keywordflow">if</span>(*file == 0){</div>
<div class="line">       fprintf(stderr, <span class="stringliteral">&quot;\nFAIL\nERROR: Can&#39;t open file \&quot;%s\&quot;\nExiting...\n&quot;</span>, </div>
<div class="line">               name);</div>
<div class="line">       exit(10);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//~ printf(&quot;OK\n&quot;);</span></div>
<div class="line">    <span class="keywordflow">return</span> *file == NULL;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nb_cols(<span class="keywordtype">char</span> *line){</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> c = 0;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span>(line[c] != <span class="charliteral">&#39;\0&#39;</span>){</div>
<div class="line">        <span class="keywordflow">if</span>(line[c] == <span class="charliteral">&#39;,&#39;</span>){</div>
<div class="line">            count++;</div>
<div class="line">        }</div>
<div class="line">        c++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> count;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#ad8b111857701d408852c427d3a6e4506">vec_print_char_as_int</a>(Vector *vec){</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">size_t</span> size = <a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(vec);</div>
<div class="line">    <span class="keywordflow">if</span>(size &lt; 1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;empty\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; size - 1; i++){</div>
<div class="line">        printf(<span class="stringliteral">&quot;%i,&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(vec, i));</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;%i\n&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(vec, i));</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#af6b21dcee544a6af4211e0471ef2a64b">vec_print_as_char</a>(Vector *vec){</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">size_t</span> size = <a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(vec);</div>
<div class="line">    <span class="keywordflow">if</span>(size &lt; 1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;empty\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; size - 1; i++){</div>
<div class="line">        printf(<span class="stringliteral">&quot;%c,&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(vec, i));</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;%c\n&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(vec, i));</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#a28bccc0516042023b1f6e9d06fd531c0">vector_print_ulong</a>(Vector *vec){</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">size_t</span> size = <a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(vec);</div>
<div class="line">    <span class="keywordflow">if</span>(size &lt; 1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;empty\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; size - 1; i++){</div>
<div class="line">        printf(<span class="stringliteral">&quot;%lu,&quot;</span>, <a class="code" href="utls_8h.html#a4b79612cd76e6d535736a758c3e594ce">vec_get_as_ulong</a>(vec, i));</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;%lu\n&quot;</span>, <a class="code" href="utls_8h.html#a4b79612cd76e6d535736a758c3e594ce">vec_get_as_ulong</a>(vec, i));</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="struct_c_s_v_line.html">CSVLine</a> line_to_pat(<span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">bool</span> skip){</div>
<div class="line">    <a class="code" href="struct_c_s_v_line.html">CSVLine</a> res;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> i = 0;</div>
<div class="line">    <span class="keywordtype">char</span> snumber;</div>
<div class="line">    <span class="keywordtype">char</span> *buffer;</div>
<div class="line"></div>
<div class="line">    res.<a class="code" href="struct_c_s_v_line.html#acb906433e1289aa1c251dc5057746a88">val</a> = iVector.Create(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), 1);</div>
<div class="line">    buffer = strtok(line, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line">    <span class="keywordflow">while</span>(buffer &amp;&amp; *buffer != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; *buffer != <span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line">        snumber = *buffer - <span class="charliteral">&#39;0&#39;</span>;    <span class="comment">// &#39;0&#39; == 0x30 == 48 == 060</span></div>
<div class="line">        <span class="keywordflow">if</span>(i &lt; skip){</div>
<div class="line">            res.<a class="code" href="struct_c_s_v_line.html#a185c73c6507391d1eb38c776b68ce96d">class</a> = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * strlen(buffer) + 1);</div>
<div class="line">            strcpy(res.<a class="code" href="struct_c_s_v_line.html#a185c73c6507391d1eb38c776b68ce96d">class</a>, buffer);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span>{</div>
<div class="line">            <a class="code" href="utls_8h.html#a7ff2f46fa4c3d284ecfb58cf2e12ee20">vec_pushback</a>(res.<a class="code" href="struct_c_s_v_line.html#acb906433e1289aa1c251dc5057746a88">val</a>, &amp;snumber);</div>
<div class="line">        }</div>
<div class="line">        buffer = strtok(NULL, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(buffer &amp;&amp; *buffer == <span class="charliteral">&#39; &#39;</span>){</div>
<div class="line">            buffer++;</div>
<div class="line">        }</div>
<div class="line">        i++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> res;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="io_8h.html#ad3f3f9a2e30a9158c82206fb913f2b3d">readCsv</a>(<a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *plen, List *lines, FILE *file, <span class="keywordtype">bool</span> skip){</div>
<div class="line">    <span class="keywordtype">char</span> *readline = NULL;</div>
<div class="line">    <a class="code" href="struct_c_s_v_line.html">CSVLine</a> pat;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> patLen;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> lineLen = 0;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nlines = 1;</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> columns = 0;</div>
<div class="line">    <span class="keywordtype">bool</span> firstLine = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> firstPat = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordtype">int</span> read;</div>
<div class="line">    <span class="keywordtype">size_t</span> len;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span>((read = getline(&amp;readline, &amp;len, file)) != -1){</div>
<div class="line">        <span class="keywordflow">if</span>((strlen(readline) &lt; 1) || strcmp(readline, <span class="stringliteral">&quot;\n&quot;</span>) == 0 ||</div>
<div class="line">           (readline[0] == <span class="charliteral">&#39;#&#39;</span>)){</div>
<div class="line">            nlines++;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span>(firstLine == <span class="keyword">false</span>){</div>
<div class="line">            columns = nb_cols(readline);</div>
<div class="line">            firstLine = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        pat = line_to_pat(readline, skip);</div>
<div class="line">        patLen = skip + <a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(pat.<a class="code" href="struct_c_s_v_line.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(!firstPat){</div>
<div class="line">            <span class="keywordflow">if</span>(lineLen == patLen){</div>
<div class="line">                iList.Add(lines, &amp;pat);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(patLen &gt; 0){</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;\nERROR: line %lu has %lu columns. Previous &quot;</span>\</div>
<div class="line">                        <span class="stringliteral">&quot;lines had %lu columns ...\n\nExiting...\n\n&quot;</span>,</div>
<div class="line">                        nlines, patLen, lineLen);</div>
<div class="line">                exit(11);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span>{</div>
<div class="line">                printf(<span class="stringliteral">&quot;\nline %lu is empty - skipping\n&quot;</span>, nlines);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span>{</div>
<div class="line">            firstPat = <span class="keyword">false</span>;</div>
<div class="line">            lineLen = patLen;</div>
<div class="line">            iList.Add(lines, &amp;pat);</div>
<div class="line">        }</div>
<div class="line">        nlines++;</div>
<div class="line">        <span class="keywordflow">if</span>(nlines == ULONG_MAX){</div>
<div class="line">            fprintf(stderr, <span class="stringliteral">&quot;ERROR: The input file contains too much lines&quot;</span>);</div>
<div class="line">            exit(5);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    *plen = columns - skip;</div>
<div class="line">    free(readline);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> write_vector(FILE *out, Vector *pat){</div>
<div class="line">    <a class="code" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(pat) &lt; 1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;WARNING: pattern is empty: nothing to print\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="utls_8h.html#a12bdf08e246ee2dbf37483c33b5c28df">vec_size</a>(pat) - 1; i++){</div>
<div class="line">        fprintf(out, <span class="stringliteral">&quot;%i,&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(pat, i));</div>
<div class="line">    }</div>
<div class="line">    fprintf(out, <span class="stringliteral">&quot;%i&quot;</span>, <a class="code" href="utls_8h.html#ac32015af01d4bd0f35bf37753d23de51">vec_get_as_char</a>(pat, i));</div>
<div class="line">    fprintf(out, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>The output file where the clusters's patterns sets will be wwritten. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a328704f75c999c31e485b3542a26207d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_cluster_files </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_in_param.html">InParam</a>&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>pats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>nClusts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a file where a cluster's prototype and its patterns are written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">par</td><td>The network parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pats</td><td>The network training patterns set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nClusts</td><td>Number of network clusters. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a328704f75c999c31e485b3542a26207d_cgraph.png" border="0" usemap="#io_8c_a328704f75c999c31e485b3542a26207d_cgraph" alt=""/></div>
<map name="io_8c_a328704f75c999c31e485b3542a26207d_cgraph" id="io_8c_a328704f75c999c31e485b3542a26207d_cgraph">
<area shape="rect" id="node2" href="io_8h.html#a3405b5370d2c756dc5135a5bf8fbdc34" title="openFile" alt="" coords="182,5,253,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a328704f75c999c31e485b3542a26207d_icgraph.png" border="0" usemap="#io_8c_a328704f75c999c31e485b3542a26207d_icgraph" alt=""/></div>
<map name="io_8c_a328704f75c999c31e485b3542a26207d_icgraph" id="io_8c_a328704f75c999c31e485b3542a26207d_icgraph">
<area shape="rect" id="node2" href="io_8h.html#a72d8ceea6208425220d76bc1d02b7498" title="write_train_results" alt="" coords="181,5,309,32"/><area shape="rect" id="node3" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="358,5,458,32"/><area shape="rect" id="node4" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="507,5,557,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afaadde76430f928670e1054153da6677"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_clusts_classes </td>
          <td>(</td>
          <td class="paramtype">Vector **&#160;</td>
          <td class="paramname"><em>clustsClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>patsClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write the number of patterns in each class, in each cluster.</p>
<p>For instance, in the mushrooms database there's two classes: p (poisonous) and e (edible). Then the repartition looks like: </p>
<div class="fragment"><div class="line">No. cluster |    p    |    e    | Class</div>
<div class="line">------------+---------+---------+------</div>
<div class="line">          0 |     274 |     320 | e</div>
<div class="line">          1 |       0 |     768 | e</div>
<div class="line">          2 |      32 |     108 | e</div>
<div class="line">          3 |      72 |     443 | e</div>
<div class="line">               [...]</div>
<div class="line">         15 |       8 |       0 | p</div>
<div class="line">         16 |       0 |      16 | e</div>
</div><!-- fragment --><p> The class column indicate the clusters's classes: the prominent class of the cluster.</p>
<p>This function would deserved a little clean up. It is a long function for a small job but it actually generate ascii tables for any number of classes of any lengths.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">clustsClass</td><td>The array that will be filled with the clusters's classes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>The output file where the classes repartition will be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patsClass</td><td>The network training patterns classes. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_afaadde76430f928670e1054153da6677_icgraph.png" border="0" usemap="#io_8c_afaadde76430f928670e1054153da6677_icgraph" alt=""/></div>
<map name="io_8c_afaadde76430f928670e1054153da6677_icgraph" id="io_8c_afaadde76430f928670e1054153da6677_icgraph">
<area shape="rect" id="node2" href="io_8h.html#a72d8ceea6208425220d76bc1d02b7498" title="write_train_results" alt="" coords="197,5,325,32"/><area shape="rect" id="node3" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="374,5,474,32"/><area shape="rect" id="node4" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="523,5,573,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4e19be6f887c6b2c836348fce9ca5b0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_clusts_pat_sets </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a4e19be6f887c6b2c836348fce9ca5b0f_icgraph.png" border="0" usemap="#io_8c_a4e19be6f887c6b2c836348fce9ca5b0f_icgraph" alt=""/></div>
<map name="io_8c_a4e19be6f887c6b2c836348fce9ca5b0f_icgraph" id="io_8c_a4e19be6f887c6b2c836348fce9ca5b0f_icgraph">
<area shape="rect" id="node2" href="io_8h.html#a72d8ceea6208425220d76bc1d02b7498" title="write_train_results" alt="" coords="203,5,331,32"/><area shape="rect" id="node3" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="379,5,479,32"/><area shape="rect" id="node4" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="528,5,579,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac238d5ff2b2ee59bdd90bed4188bb86a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_clusts_prototypes </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_in_param.html">InParam</a>&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>nClusts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write the prototype of every clusters in the given file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>The output file where the prototypes will be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par</td><td>The network parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nClusts</td><td>Number of network clusters. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_ac238d5ff2b2ee59bdd90bed4188bb86a_icgraph.png" border="0" usemap="#io_8c_ac238d5ff2b2ee59bdd90bed4188bb86a_icgraph" alt=""/></div>
<map name="io_8c_ac238d5ff2b2ee59bdd90bed4188bb86a_icgraph" id="io_8c_ac238d5ff2b2ee59bdd90bed4188bb86a_icgraph">
<area shape="rect" id="node2" href="io_8h.html#a72d8ceea6208425220d76bc1d02b7498" title="write_train_results" alt="" coords="213,5,341,32"/><area shape="rect" id="node3" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="390,5,490,32"/><area shape="rect" id="node4" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="539,5,589,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a965830f0ac8cd6fb565d8e7fd040c950"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_ratio </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>pats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>patsClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clustsClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write the success / fail ratio of the training stage in the given file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>The output file where the prototypes will be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pats</td><td>The network training patterns set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patsClass</td><td>The network training patterns classes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clustsClass</td><td>The network clusters classes. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_cgraph.png" border="0" usemap="#io_8c_a965830f0ac8cd6fb565d8e7fd040c950_cgraph" alt=""/></div>
<map name="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_cgraph" id="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_cgraph">
<area shape="rect" id="node2" href="utls_8c.html#a4604b9b7cf093310cdd990677740a6e5" title="pat_in_clust_set" alt="" coords="136,5,253,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_icgraph.png" border="0" usemap="#io_8c_a965830f0ac8cd6fb565d8e7fd040c950_icgraph" alt=""/></div>
<map name="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_icgraph" id="io_8c_a965830f0ac8cd6fb565d8e7fd040c950_icgraph">
<area shape="rect" id="node2" href="io_8h.html#a72d8ceea6208425220d76bc1d02b7498" title="write_train_results" alt="" coords="136,5,264,32"/><area shape="rect" id="node3" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="313,5,413,32"/><area shape="rect" id="node4" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="461,5,512,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7db0c1a52daa6b67e37b56e9b48bdc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_test_results </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_in_param.html">InParam</a>&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>emptyPats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>pats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>nPats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>testClasses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>testResClasses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_cgraph.png" border="0" usemap="#io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_cgraph" alt=""/></div>
<map name="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_cgraph" id="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_cgraph">
<area shape="rect" id="node2" href="io_8h.html#a3405b5370d2c756dc5135a5bf8fbdc34" title="openFile" alt="" coords="179,5,250,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_icgraph.png" border="0" usemap="#io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_icgraph" alt=""/></div>
<map name="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_icgraph" id="io_8c_aa7db0c1a52daa6b67e37b56e9b48bdc3_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a679215a5eaffbf7f0bc2bbbf4c3610f9" title="test_network" alt="" coords="179,5,277,32"/><area shape="rect" id="node3" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="325,5,376,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72d8ceea6208425220d76bc1d02b7498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_train_results </td>
          <td>(</td>
          <td class="paramtype">Vector **&#160;</td>
          <td class="paramname"><em>clustsClasses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_in_param.html">InParam</a>&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>emptyPats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fluc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>pats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utls_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>nPats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>clusts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector *&#160;</td>
          <td class="paramname"><em>patsClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the result datas on the output files.</p>
<p>There's too much datas to write them on the terminal so they are written on output files. The main output file is "art_results" (by default) and it contains every information used to build and train the network. Other output files are named "art_clust_xxx.csv" and they contains the cluster #xxx prototype followed by every patterns which belongs to this cluster.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>It would be a good idea to use the output file in order to load a network.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">clustsClass</td><td>The array that will be filled with the clusters's classes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par</td><td>The network parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emptyPats</td><td>Number of empty patterns removed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fluc</td><td>The best recorded fluctuation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pats</td><td>The network training patterns set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nPats</td><td>Number of training patterns of the network. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clusts</td><td>The network clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patsClass</td><td>The network training patterns classes. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a72d8ceea6208425220d76bc1d02b7498_cgraph.png" border="0" usemap="#io_8c_a72d8ceea6208425220d76bc1d02b7498_cgraph" alt=""/></div>
<map name="io_8c_a72d8ceea6208425220d76bc1d02b7498_cgraph" id="io_8c_a72d8ceea6208425220d76bc1d02b7498_cgraph">
<area shape="rect" id="node2" href="io_8h.html#a3405b5370d2c756dc5135a5bf8fbdc34" title="openFile" alt="" coords="413,86,483,113"/><area shape="rect" id="node3" href="io_8c.html#ac238d5ff2b2ee59bdd90bed4188bb86a" title="write_clusts_prototypes" alt="" coords="181,35,341,62"/><area shape="rect" id="node4" href="io_8c.html#a4e19be6f887c6b2c836348fce9ca5b0f" title="write_clusts_pat_sets" alt="" coords="187,86,336,113"/><area shape="rect" id="node5" href="io_8c.html#afaadde76430f928670e1054153da6677" title="write_clusts_classes" alt="" coords="189,137,333,163"/><area shape="rect" id="node6" href="io_8c.html#a965830f0ac8cd6fb565d8e7fd040c950" title="write_ratio" alt="" coords="220,238,303,265"/><area shape="rect" id="node8" href="io_8c.html#a328704f75c999c31e485b3542a26207d" title="write_cluster_files" alt="" coords="198,187,325,214"/><area shape="rect" id="node7" href="utls_8c.html#a4604b9b7cf093310cdd990677740a6e5" title="pat_in_clust_set" alt="" coords="389,238,507,265"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a72d8ceea6208425220d76bc1d02b7498_icgraph.png" border="0" usemap="#io_8c_a72d8ceea6208425220d76bc1d02b7498_icgraph" alt=""/></div>
<map name="io_8c_a72d8ceea6208425220d76bc1d02b7498_icgraph" id="io_8c_a72d8ceea6208425220d76bc1d02b7498_icgraph">
<area shape="rect" id="node2" href="main_8c.html#aed57d793bb4e50acb328306d4a46c15a" title="train_network" alt="" coords="182,5,282,32"/><area shape="rect" id="node3" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c" title="main" alt="" coords="331,5,381,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="io_8c.html">io.c</a></li>
    <li class="footer">Generated on Thu Aug 27 2015 12:17:45 for ART1 Simulator by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
